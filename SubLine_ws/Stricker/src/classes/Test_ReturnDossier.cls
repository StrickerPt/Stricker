@isTest
public class Test_ReturnDossier {
    testmethod static void test1(){
        w_ReturnDossier.DossierRetorno result = new w_ReturnDossier.DossierRetorno();
        result.cust_transp_stricker=0;
        result.dat_conc_prod=null;
        result.dat_fat=null;
        result.n_exp=0;
        result.n_vol=0;
        result.nweb=0;
        result.ref_phc=16170;
        result.stamp='STK1710108030000.301347';
        result.vol=0;
        result.erros=0;
        result.sf_id= [Select id From Opportunity Limit 1].Id;
        result.linhas_doss = new List<w_ReturnDossier.DossierLinha>();
        
        w_ReturnDossier.DossierLinha linha = new w_ReturnDossier.DossierLinha();
        linha.sf_id = [Select id From OpportunityLineItem Where OpportunityId = :result.sf_id And Product2.RecordType.DeveloperName = 'Produto' Limit 1].Id;
        linha.alinhamento=0.0;
        linha.altura=0;
        linha.arma=1;
        linha.cod_pais_morada='';
        linha.cod_post_morada='';
        linha.comp_impressao='';
        linha.comprimento=0;
        linha.cores_cust = '';
        linha.des_prod='Porta-sacos';
        linha.fonte='';
        linha.local_morada='';
        linha.lotes='20170602';
        linha.morada_entrega='';
        linha.nome_contact='PAULSTRICKER';
        linha.nome_pais_morada='';
        linha.n_impressoes=20;
        linha.n_repeticoes=1;
        linha.pantone='';
        linha.peso=1.1680;
        linha.preco_unit=0.4350;
        linha.quant=10;
        linha.ref_sku='81000.03';
        linha.ref_rel='';
        linha.stamp='STK1710113500000.924630';
        linha.cativo=true;
        linha.tecnica='';
        linha.tef_log='';
        linha.txt_cust='';
        linha.preco_total=8.7000;
        linha.transp='';
        linha.volume=0;
        linha.n_seq_morada=0;
        linha.cuidado_de = '';
        result.linhas_doss.add(linha);
        
        w_ReturnDossier.DossierLinha linha2 = new w_ReturnDossier.DossierLinha();
        linha2.sf_id = [Select id From OpportunityLineItem Where OpportunityId = :result.sf_id And Product2.RecordType.DeveloperName = 'Customizacao' Limit 1].Id;
        linha2.alinhamento=0.0;
        linha2.altura=0;
        linha2.arma=1;
        linha2.cod_pais_morada='';
        linha2.cod_post_morada='';
        linha2.comp_impressao='';
        linha2.comprimento=0;
        linha2.cores_cust = '';
        linha2.des_prod='Porta-sacos';
        linha2.fonte='';
        linha2.local_morada='';
        linha2.lotes='20170602';
        linha2.morada_entrega='';
        linha2.nome_contact='PAULSTRICKER';
        linha2.nome_pais_morada='';
        linha2.n_impressoes=20;
        linha2.n_repeticoes=1;
        linha2.pantone='';
        linha2.peso=1.1680;
        linha2.preco_unit=0.4350;
        linha2.quant=10;
        linha2.ref_sku='NSTRANSF';
        linha2.ref_rel='';
        linha2.stamp='STK1710113500000.924631';
        linha2.cativo=true;
        linha2.tecnica='';
        linha2.tef_log='';
        linha2.txt_cust='';
        linha2.preco_total=8.7000;
        linha2.transp='';
        linha2.volume=0;
        linha2.n_seq_morada=0;
        linha2.cuidado_de = '';
        result.linhas_doss.add(linha2);
        
        w_ReturnDossier.DossierLinha linha3 = new w_ReturnDossier.DossierLinha();
        linha3.sf_id = '';
        linha3.alinhamento=0.0;
        linha3.altura=0;
        linha3.arma=1;
        linha3.cod_pais_morada='';
        linha3.cod_post_morada='';
        linha3.comp_impressao='';
        linha3.comprimento=0;
        linha3.cores_cust = '';
        linha3.des_prod='Porta-sacos';
        linha3.fonte='';
        linha3.local_morada='';
        linha3.lotes='20170602';
        linha3.morada_entrega='';
        linha3.nome_contact='PAULSTRICKER';
        linha3.nome_pais_morada='';
        linha3.n_impressoes=20;
        linha3.n_repeticoes=1;
        linha3.pantone='';
        linha3.peso=1.1680;
        linha3.preco_unit=0.4350;
        linha3.quant=20;
        linha3.ref_sku='81000.03';
        linha3.ref_rel='';
        linha3.stamp='STK1710113500000.924630';
        linha3.cativo=true;
        linha3.tecnica='';
        linha3.tef_log='';
        linha3.txt_cust='';
        linha3.preco_total=8.7000;
        linha3.transp='';
        linha3.volume=0;
        linha3.n_seq_morada=0;
        linha3.cuidado_de = '';
        result.linhas_doss.add(linha3);
        
        w_ReturnDossier.DossierLinha linha4 = new w_ReturnDossier.DossierLinha();
        linha4.sf_id = [Select id From OpportunityLineItem Where OpportunityId = :result.sf_id And Product2.RecordType.DeveloperName = 'Produto' Limit 1].Id;
        linha4.alinhamento=0.0;
        linha4.altura=0;
        linha4.arma=1;
        linha4.cod_pais_morada='';
        linha4.cod_post_morada='';
        linha4.comp_impressao='';
        linha4.comprimento=0;
        linha4.cores_cust = '';
        linha4.des_prod='Porta-sacos';
        linha4.fonte='';
        linha4.local_morada='';
        linha4.lotes='20170602';
        linha4.morada_entrega='';
        linha4.nome_contact='PAULSTRICKER';
        linha4.nome_pais_morada='';
        linha4.n_impressoes=20;
        linha4.n_repeticoes=1;
        linha4.pantone='';
        linha4.peso=1.1680;
        linha4.preco_unit=0.4350;
        linha4.quant=10;
        linha4.ref_sku='81000.03';
        linha4.ref_rel='';
        linha4.stamp='STK1710113500000.924630';
        linha4.cativo=false;
        linha4.tecnica='';
        linha4.tef_log='';
        linha4.txt_cust='';
        linha4.preco_total=8.7000;
        linha4.transp='';
        linha4.volume=0;
        linha4.n_seq_morada=0;
        linha4.cuidado_de = '';
        result.linhas_doss.add(linha4);
        
        w_ReturnDossier.updateDossier(result);
    }
    @TestSetup
    public static void setup(){
        TestUtilities.customSettings();
        TestUtilities.createProds();
        TestUtilities.createOpp();
    }
}